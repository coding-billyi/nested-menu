(this["webpackJsonpph-code-challenge"]=this["webpackJsonpph-code-challenge"]||[]).push([[0],{27:function(e){e.exports=JSON.parse('{"a":[{"title":"Button 1","id":"cOU4uQ","parent_id":null,"form":null,"children":[{"title":"Level 2 / Sub Button 1","id":"xawMCU","parent_id":"cOU4uQ","form":null,"children":[]},{"title":"Level 2 / Sub Button 2","id":"mpjxjH","parent_id":"cOU4uQ","form":{"title":"Form 1","id":"jojEAk","parent_id":"mpjxjH","endpoint":"https://mocki.io/v1/44140a65-e300-4b44-a66d-4ab086160231","fields":{"firstName":{"label":"First Name","type":"text"},"lastName":{"label":"Last Name","type":"text"}}},"children":[]},{"title":"Level 2 / Sub Button 3","id":"_55tO4","parent_id":"cOU4uQ","form":null,"children":[{"title":"Level 3 / Sub Button 1","id":"w66QQv","parent_id":"_55tO4","form":null,"children":[]},{"title":"Level 3 / Sub Button 2","id":"Mi1wlx","parent_id":"_55tO4","form":null,"children":[]}]}]},{"title":"Button 2","id":"afV5Z9","parent_id":null,"form":null,"children":[]},{"title":"Button 3","id":"dq170v","parent_id":null,"form":null,"children":[]},{"title":"Button 4","id":"ZTSTrW","parent_id":null,"form":null,"children":[]},{"title":"Button 5","id":"1XucuC","parent_id":null,"form":null,"children":[]},{"title":"Button 6","id":"yY1Fen","parent_id":null,"form":{"title":"Form 2","id":"gBnuVo","parent_id":"yY1Fen","endpoint":"https://mocki.io/v1/44140a65-e300-4b44-a66d-4ab086160231","fields":{"email":{"label":"Email Address","type":"email"},"password":{"label":"Password","type":"password"}}},"children":[]}]}')},47:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(16),l=n.n(a),c=(n(39),n(40),n(13)),o=n(27),d=n(3);var s,u=Object(d.a)("div",{target:"ei4ia8m0"})({name:"t9tkrf",styles:"max-width:75%;margin:10vh auto"}),j=n(9),b=n(23),h=n(2);!function(e){e.Click="CLICK",e.Cancel="CANCEL"}(s||(s={}));var m={activePath:[]},p=r.createContext({});p.displayName="MenusContext";var f=function(e,t){switch(t.type){case s.Click:var n=e.activePath,r=t.payload,i=r.level,a=r.id,l=Object(b.a)(n);return l[i]=a,n.length-1>i&&(l=l.slice(0,i+1)),{activePath:l};case s.Cancel:var c=e.activePath,o=Object(b.a)(c);return o.pop(),{activePath:o};default:throw new Error("Unhandled action type")}},O=function(e){var t=e.children,n=r.useReducer(f,m),i=Object(j.a)(n,2),a=i[0],l=i[1];return Object(h.jsx)(p.Provider,{value:{state:a,dispatch:l},children:t})},v="#e4e5e9",x={primary:{background:v},secondary:{background:"#BE1725",color:"#FFFFFF"}},g=Object(d.a)("button",{target:"ev5hnpy0"})({padding:"0.5rem 1rem",border:"0",borderRadius:"3px",color:"#000000"},(function(e){var t=e.variant;return x[void 0===t?"primary":t]}),"");var y=Object(d.a)(g,{target:"ee5f2d21"})("margin-bottom:1rem;color:",(function(e){return e.isActive?"red":"black"}),";"),C=Object(d.a)("ul",{target:"ee5f2d20"})({name:"12q2fk5",styles:"margin-left:2rem"}),k=n(5),w=n(24),F=n(28),P=n(29),S=n(31);var _=Object(d.a)(S.a,{target:"e1ddqle63"})("max-width:400px;border-radius:5px;margin:20vh auto;","@media (max-width: 768px)","{width:90%;margin:10vh auto;padding:1rem;}"),B=Object(d.a)("div",{target:"e1ddqle62"})({name:"skgbeu",styles:"display:flex;justify-content:flex-end"}),E=Object(d.a)("button",{target:"e1ddqle61"})("border-radius:100%;width:1.5rem;height:1.5rem;line-height:1;border:1px solid ",v,";display:flex;justify-content:center;align-items:center;span{height:1rem;}"),L=Object(d.a)("h3",{target:"e1ddqle60"})({name:"1fvhkyn",styles:"text-align:center;font-size:2rem;margin:0 1rem 1rem"}),A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.forEach((function(e){return e&&e.apply(void 0,n)}))}},N=r.createContext({}),R=function(e){var t=e.children,n=r.useState(!1),i=Object(j.a)(n,2),a=i[0],l=i[1];return Object(h.jsx)(N.Provider,{value:{isOpen:a,setIsOpen:l},children:t})},T=function(e){var t=e.children,n=r.useContext(N).setIsOpen;return r.isValidElement(t)?r.cloneElement(t,{onClick:A((function(){return n(!1)}),t.props.onClick)}):null},I=function(e){var t=e.children,n=r.useContext(N).setIsOpen;return r.isValidElement(t)?r.cloneElement(t,{onClick:A((function(){return n(!0)}),t.props.onClick)}):null},q=function(e){var t=e.onClose,n=Object(w.a)(e,["onClose"]),i=r.useContext(N),a=i.isOpen,l=i.setIsOpen;return Object(h.jsx)(_,Object(k.a)({isOpen:a,onDismiss:A((function(){return l(!1)}),t)},n))},M=function(e){var t=e.title,n=e.children,r=e.onClose,i=Object(w.a)(e,["title","children","onClose"]);return Object(h.jsxs)(q,Object(k.a)(Object(k.a)({onClose:r},i),{},{children:[Object(h.jsx)(B,{children:Object(h.jsx)(T,{children:Object(h.jsxs)(E,{onClick:r,children:[Object(h.jsx)(F.a,{children:"Close"}),Object(h.jsx)("span",{"aria-hidden":!0,children:Object(h.jsx)(P.a,{})})]})})}),Object(h.jsx)(L,{children:t}),n]}))},Q=n(30);var U=Object(d.a)("label",{target:"e736am44"})({name:"1uw87on",styles:"margin-bottom:0.5rem;display:block;&:last-of-type{margin-bottom:1rem;}"}),J=Object(d.a)("input",{target:"e736am43"})({name:"gn9pu2",styles:"width:100%;padding:0.25rem 0.5rem"}),V=Object(d.a)("div",{target:"e736am42"})({name:"5obxih",styles:"display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));column-gap:1rem"}),D=Object(d.a)("span",{target:"e736am41"})("display:block;margin-top:1rem;color:",(function(e){return e.error?"red":"black"}),";"),z=Object(c.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),H=Object(d.a)(Q.a,{target:"e736am40"})({animation:"".concat(z," 1s linear infinite")},"");H.defaultProps={"aria-label":"loading"};var Y=n(15),Z=function(e){var t=r.useState(function(e){return Object.keys(e).reduce((function(e,t){return Object(k.a)(Object(k.a)({},e),{},Object(Y.a)({},t,""))}),{})}(e)),n=Object(j.a)(t,2),i=n[0],a=n[1];return{data:i,handleChange:r.useCallback((function(e){return function(t){a((function(n){return Object(k.a)(Object(k.a)({},n),{},Object(Y.a)({},e,t.target.value))}))}}),[])}};var K,W={status:"idle",data:null,error:null};function X(){var e=i.a.useReducer((function(e,t){return Object(k.a)(Object(k.a)({},e),t)}),W),t=Object(j.a)(e,2),n=t[0],r=n.status,a=n.data,l=n.error,c=function(e){var t=i.a.useRef(!1);return i.a.useLayoutEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),i.a.useCallback((function(n){return t.current?e(n):void 0}),[e])}(t[1]);return{isPending:"pending"===r,isResolved:"resolved"===r,isRejected:"rejected"===r,error:l,status:r,data:a,run:i.a.useCallback((function(e){return c({status:"pending"}),e.then((function(e){return c({data:e,status:"resolved"}),e}),(function(e){return c({status:"rejected",error:e}),e}))}),[c])}}!function(e){e[e.idle=0]="idle",e[e.pending=1]="pending",e[e.resolved=2]="resolved",e[e.rejected=3]="rejected"}(K||(K={}));var G=function(e){var t=e.form,n=e.onClose,r=t.title,i=t.endpoint,a=t.fields,l=Z(a),c=l.data,o=l.handleChange,d=X(),s=d.isPending,u=d.isResolved,j=d.isRejected,b=d.run;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{"aria-label":r,onSubmit:function(e){e.preventDefault(),b(fetch(i,{body:JSON.stringify(c),method:"POST"}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})))},children:[Object.keys(a).map((function(e){var t=a[e],n=t.label,r=t.type;return Object(h.jsxs)(U,{htmlFor:"".concat(e,"-field"),children:[n,Object(h.jsx)(J,{id:"".concat(e,"-field"),type:r,onChange:o(e)})]},e)})),Object(h.jsxs)(V,{children:[Object(h.jsx)(g,{type:"submit",disabled:s,children:s?Object(h.jsx)(H,{}):"Submit"}),Object(h.jsx)(T,{children:Object(h.jsx)(g,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})})]})]}),u&&Object(h.jsx)("div",{"aria-live":"polite",children:Object(h.jsx)(D,{children:"Success"})}),j&&Object(h.jsx)("div",{role:"alert",children:Object(h.jsx)(D,{error:!0,children:"Something went wrong, please try later"})})]})},$=function(e){var t=e.menus;return Object(h.jsx)(O,{children:Object(h.jsx)("nav",{children:Object(h.jsx)("ul",{role:"menu",children:t.map((function(e){return Object(h.jsx)("li",{role:"menuitem",children:Object(h.jsx)(ee,{list:e,level:0})},e.id)}))})})})},ee=function(e){var t=e.list,n=e.level,i=function(){var e=r.useContext(p);if(void 0===e)throw new Error("useMenus must be used within a MenusProvider");return e}(),a=i.state.activePath,l=i.dispatch,c=function(e,t){l({type:s.Click,payload:{level:e,id:t}})},o=function(){l({type:s.Cancel})},d=a.includes(t.id);return t.children.length>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{"aria-haspopup":"menu","aria-expanded":d,"aria-controls":t.id,onClick:function(){return c(n,t.id)},isActive:d,children:t.title}),d?Object(h.jsx)(te,{list:t,level:n}):null]}):t.form?Object(h.jsxs)(R,{children:[Object(h.jsx)(I,{children:Object(h.jsx)(y,{"aria-haspopup":"dialog","aria-expanded":d,onClick:function(){return c(n,t.id)},isActive:d,children:t.title})}),Object(h.jsx)(M,{title:t.form.title,"aria-label":t.form.title,onClose:o,children:Object(h.jsx)(G,{form:t.form,onClose:o})})]}):Object(h.jsxs)(R,{children:[Object(h.jsx)(I,{children:Object(h.jsx)(y,{"aria-haspopup":"dialog","aria-expanded":d,onClick:function(){return c(n,t.id)},isActive:d,children:t.title})}),Object(h.jsx)(M,{title:"Error","aria-label":"error",onClose:o,children:Object(h.jsx)("div",{role:"document",children:Object(h.jsx)("p",{children:"This hasn't been implemented yet. Please try another menu item"})})})]})},te=function(e){var t=e.list,n=e.level;return Object(h.jsx)(C,{role:"menu","data-testid":"submenu-".concat(t.title),"aria-label":t.title,id:t.id,children:t.children.map((function(e){return Object(h.jsx)("li",{role:"menuitem",children:Object(h.jsx)(ee,{list:e,level:n+1})},e.id)}))})};var ne={name:"ydsag8",styles:"*,*::before,*::after{box-sizing:border-box;}ul{list-style:none;padding:0;margin:0;}"},re=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a,{styles:ne}),Object(h.jsx)(u,{children:Object(h.jsxs)("header",{children:[Object(h.jsx)("h1",{children:"Coding Test"}),Object(h.jsx)($,{menus:o.a})]})})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),r(e),i(e),a(e),l(e)}))};l.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(re,{})}),document.getElementById("root")),ie()}},[[47,1,2]]]);
//# sourceMappingURL=main.13a93703.chunk.js.map